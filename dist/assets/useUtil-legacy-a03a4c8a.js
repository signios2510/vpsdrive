System.register(["./index-legacy-525baae1.js","./api-legacy-f796fb21.js"],(function(e,t){"use strict";var n,a,r,o,c,i,s,l,p,u,d,f,g,y,m;return{setters:[e=>{n=e.u,a=e.o,r=e.S,o=e.b7,c=e.p,i=e.a3,s=e.b8,l=e.w,p=e.s,u=e.b9,d=e.d,f=e.n,g=e.ba,y=e.X},e=>{m=e.b}],execute:function(){const t=e("g",((e,t,n="direct",a)=>{"preview"!==n&&(e=c(i().base_path,e));let r=`${e=s(e,!0)}/${t.name}`;r=l(r,a);let o=u,p="direct"===n?"/d":"/p";"preview"===n&&(o=location.origin,p="");let d=`${o}${p}${r}`;return"preview"!==n&&t.sign&&(d+=`?sign=${t.sign}`),d})),b=e("a",(()=>{const{pathname:e}=n(),c=(n,c,i)=>{const s=a.state!==r.File?e():o(e());return t(s,n,c,i)},i=(e,t)=>c(e,"direct",t);return{getLinkByObj:c,rawLink:i,proxyLink:(e,t)=>c(e,"proxy",t),previewPage:(e,t)=>c(e,"preview",t),currentObjLink:e=>i(a.obj,e)}})),w=e("u",(()=>{const{previewPage:e,rawLink:t}=b(),n=e=>p().filter((e=>!e.is_dir)).map((n=>t(n,e)));return{rawLinks:n,previewPagesText:()=>p().map((t=>e(t,!0))).join("\n"),rawLinksText:e=>n(e).join("\n")}}));e("b",(()=>{const{copy:e}=D(),{previewPagesText:t,rawLinksText:n}=w(),{currentObjLink:a}=b();return{copySelectedPreviewPage:()=>{e(t())},copySelectedRawLink:t=>{e(n(t))},copyCurrentRawLink:t=>{e(a(t))}}}));var v=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}},x={"text/plain":"Text","text/html":"Url",default:"Text"},C="Copy to clipboard: #{key}, Enter",k=function(e,t){var n,a,r,o,c,i,s=!1;t||(t={}),n=t.debug||!1;try{if(r=v(),o=document.createRange(),c=document.getSelection(),(i=document.createElement("span")).textContent=e,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",(function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),void 0===a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=x[t.format]||x.default;window.clipboardData.setData(r,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))})),document.body.appendChild(i),o.selectNodeContents(i),c.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(l){n&&console.error("unable to copy using execCommand: ",l),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(l){n&&console.error("unable to copy using clipboardData: ",l),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:C),window.prompt(a,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(o):c.removeAllRanges()),i&&document.body.removeChild(i),r()}return s};const D=e("c",(()=>{const e=d(),{pathname:t}=n();return{copy:t=>{k(t),f.success(e("global.copied"))},isHide:e=>{const n=g();for(const a of n)if(a.test(c(t(),e.name)))return!0;return!1}}}));e("d",(()=>{const{proxyLink:e}=b();return y("",(async()=>m(e(a.obj,!0))))}))}}}));
