import{u as L,a as z,_ as Je,g as Ht,b as Nt,o as _,p as Ae,O as x,S,h as bt,c as On,n as Y,d as O,s as oe,l as qt,e as be,f as r,M as Te,i as Fe,j as Pe,k as je,m as M,I as Wt,T as Mn,F as kn,q as st,B as ae,r as Le,t as j,v as Re,w as En,x as An,y as Tn,z as Kt,L as Gt,A as Fn,C as Pn,D as jn,E as se,G as ye,H as $e,J as De,K as Xt,N as it,P as lt,Q as xe,R as ct,U,V as Ln,W as ie,X as Rn,Y as Se,Z as Dn,$ as In,a0 as q,a1 as Bn,a2 as Oe,a3 as Me,a4 as ut,a5 as dt,a6 as Vn,a7 as pe,a8 as He,a9 as ht,aa as ee,ab as Qt,ac as Un,ad as gt,ae as zn,af as Hn,ag as w,ah as ft,ai as Ne,aj as Zt,ak as Ie,al as Nn,am as qn,an as Wn,ao as Be,ap as Jt,aq as Kn,ar as T,as as R,at as Yt,au as en,av as tn,aw as Gn,ax as Xn,ay as Qn,az as wt,aA as nn,aB as Zn,aC as Jn,aD as Yn,aE as er,aF as tr,aG as nr,aH as rr,aI as vt,aJ as or,aK as ar,aL as sr,aM as ir,aN as te,aO as lr,aP as cr,aQ as ur,aR as dr,aS as hr,aT as gr,aU as fr,aV as pr,aW as mr,aX as br,aY as wr,aZ as vr,a_ as yr,a$ as $r,b0 as Sr,b1 as Cr}from"./index.af08b204.js";import{u as _r,B as rn,a as on,b as xr,c as Or}from"./index.3a7d51dc.js";import{M as an}from"./Markdown.e165884c.js";import{f as Mr,a as kr,b as Er,c as Ar,d as Tr,e as Fr,g as Pr,h as jr,i as Lr,o as Rr}from"./api.3026e8d1.js";import{u as Dr,a as sn,b as Ir}from"./useUtil.a4711e9e.js";import{A as Br,F as ln,C as Vr,a as Ur,b as zr,T as Hr,c as yt}from"./index.0e6e0e05.js";import{R as Nr}from"./index.f0bbae2c.js";import{M as cn}from"./FolderTree.3b93c1d1.js";const qr=(e,...t)=>{},Ye=new Map,Wr=(e,t)=>{Ye.set(e,t)},un=e=>{window.scroll({top:Ye.get(e)||0,behavior:"smooth"}),qr("recoverScroll",e,Ye.get(e))};let Ce;function Kr(e,t,n="replaceState"){let o=n==="location"?location.href:location.hash;if(!o.includes("?"))o=`${o}?${e}=${t}`;else if(!o.includes(e))o=`${o}&${e}=${t}`;else{const a=`(\\?|&|#)${e}([^&|^#]*)(&|$|#)`;o=o.replace(new RegExp(a),"$1"+e+"="+t+"$3")}n==="location"&&(location.href=o),n==="pushState"&&history.pushState({},"",o),n==="replaceState"&&history.replaceState({},"",o)}function $t(e){for(var t=window.location.search.substring(1),n=t.split("&"),o=0;o<n.length;o++){var a=n[o].split("=");if(a[0]==e)return a[1]}return""}const qe={};let B=1;const Za=()=>B,Gr=()=>{const e=Ht();B=1,e.type==="pagination"&&Kr("page",1),console.log("resetGlobalPage",B)},H=()=>{const{pathname:e}=L(),[,t]=z(c=>Mr(c,Je())),n=Ht();n.type==="pagination"&&$t("page")&&(B=parseInt($t("page")));const[,o]=z(c=>{const d={index:c==null?void 0:c.index,size:c==null?void 0:c.size};return kr(c==null?void 0:c.path,Je(),d.index,d.size,c==null?void 0:c.force,new Nt.CancelToken(function(m){Ce=m}))}),a=(c,d=!0,f=!1)=>{f&&(c=Ae(e(),c)),d?qe[c]=!0:delete qe[c]};let i=!1;const s=(c,d,f)=>{Ce==null||Ce(),i=d!=null?d:!1,u(""),qe[c]?h(c,B,void 0,void 0,f):l(c)},l=async c=>{x.setState(S.FetchingObj);const d=await t(c);bt(d,f=>{var m;x.setObj(f),x.setProvider(f.provider),f.is_dir?(a(c),h(c,B)):(x.setReadme(f.readme),x.setRelated((m=f.related)!=null?m:[]),x.setRawUrl(f.raw_url),x.setState(S.File))},u)},h=async(c,d,f,m=!1,p)=>{f||(f=n.size),f!==void 0&&n.type==="all"&&(f=void 0),B=d!=null?d:1,x.setState(m?S.FetchingMore:S.FetchingObjs);const v=await o({path:c,index:d,size:f,force:p});bt(v,$=>{var k;m?On($.content):(x.setObjs((k=$.content)!=null?k:[]),x.setTotal($.total)),x.setReadme($.readme),x.setWrite($.write),x.setProvider($.provider),x.setState(S.Folder),m&&(d!=null?d:1)>1||un(c)},u)},u=(c,d)=>{d===403?(x.setState(S.NeedPassword),i&&Y.error(c)):x.setErr(c)},g=(c,d,f=!1)=>{h(e(),c,d,f)};return{handlePathChange:s,setPathAs:a,refresh:(c,d)=>{s(e(),c,d)},pageChange:g,loadMore:()=>{g(B+1,void 0,!0)},allLoaded:()=>B>=Math.ceil(_.total/n.size)}},Xr=()=>{const{rawLinks:e}=Dr(),{rawLink:t}=sn(),n=O();return{batchDownloadSelected:()=>{e(!0).forEach(a=>{window.open(a,"_blank")})},sendToAria2:async()=>{const o=oe().filter(l=>!l.is_dir),{aria2_rpc_url:a,aria2_rpc_secret:i,aria2_dir:s}=qt;if(!a){Y.warning(n("home.toolbar.aria2_not_set"));return}try{for(const l of o){const h=await Nt.post(a,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+i,[t(l)],{out:l.name,"check-certificate":"false"}]});console.log(h)}Y.success(n("home.toolbar.send_aria2_success"))}catch(l){console.error(l),Y.error(`failed to send to aria2: ${l}`)}}}},Ve=e=>{var i;const[t,n]=be((i=e.defaultValue)!=null?i:""),o=O(),a=()=>{var s;if(!t()){Y.warning(o("global.empty_input"));return}(s=e.onSubmit)==null||s.call(e,t()),n("")};return r(Le,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[r(Te,{}),r(Fe,{get children(){return[r(Pe,{get children(){return o(e.title)}}),r(je,{get children(){return[r(M,{get when(){return e.topSlot},get children(){return e.topSlot}}),r(M,{get when(){return e.type==="text"},get fallback(){return r(Wt,{id:"modal-input",get type(){return e.type},get value(){return t()},onInput:s=>{n(s.currentTarget.value)},onKeyDown:s=>{s.key==="Enter"&&a()}})},get children(){return r(Mn,{id:"modal-input",get value(){return t()},onInput:s=>{n(s.currentTarget.value)}})}}),r(M,{get when(){return e.tips},get children(){return r(kn,{get children(){return e.tips}})}})]}}),r(st,{display:"flex",gap:"$2",get children(){return[r(ae,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return o("global.cancel")}}),r(ae,{get loading(){return e.loading},onClick:()=>a(),get children(){return o("global.ok")}})]}})]}})]}})},Qr=()=>{const{pathname:e}=L(),t=j(()=>["",...e().split("/").filter(Boolean)]),n=O(),{setPathAs:o}=H();return r(jn,{class:"nav",w:"$full",get children(){return r(Re,{get each(){return t()},children:(a,i)=>{const s=j(()=>i()===t().length-1),l=t().slice(0,i()+1).join("/"),h=En(l);let u=()=>a;return u()===""&&(u=()=>se("home_icon")+n("manage.sidemenu.home")),r(An,{class:"nav-item",get children(){return[r(Tn,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{bgColor:Kt(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return s()},get as(){return s()?void 0:Gt},get href(){return Fn(h)},onMouseEnter:()=>o(l),children:u}),r(M,{get when(){return!s()},get children(){return r(Pn,{class:"nav-separator"})}})]}})}})}})},Zr=ye(()=>$e(()=>import("./Folder.cfeedba1.js").then(e=>e.F),["assets/Folder.cfeedba1.js","assets/index.af08b204.js","assets/index.b42d16c5.css","assets/useUtil.a4711e9e.js","assets/api.3026e8d1.js","assets/index.0e6e0e05.js","assets/icon.1e7494c4.js","assets/index.3a7d51dc.js","assets/Folder.a0b83277.css"])),Jr=ye(()=>$e(()=>import("./File.09962240.js").then(e=>e.a),["assets/File.09962240.js","assets/index.af08b204.js","assets/index.b42d16c5.css","assets/useUtil.a4711e9e.js","assets/api.3026e8d1.js","assets/icon.1e7494c4.js","assets/index.3a7d51dc.js","assets/index.0e6e0e05.js"])),Yr=ye(()=>$e(()=>import("./Password.0f76fe54.js"),["assets/Password.0f76fe54.js","assets/index.af08b204.js","assets/index.b42d16c5.css","assets/index.0e6e0e05.js","assets/index.3a7d51dc.js","assets/Markdown.e165884c.js","assets/api.3026e8d1.js","assets/useUtil.a4711e9e.js","assets/index.f0bbae2c.js","assets/FolderTree.3b93c1d1.js"]));let St=!0;const eo=()=>{const e=De("white","$neutral3"),{pathname:t}=L(),{handlePathChange:n}=H();let o=t();return Xt(it(t,a=>{_r(),St||Gr(),St=!1,Wr(o,window.scrollY),n(a),o=a})),r(ie,{class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return e()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return r(lt,{get fallback(){return r(xe,{})},get children(){return r(ct,{get children(){return[r(U,{get when(){return _.err},get children(){return r(Ln,{get msg(){return _.err},disableColor:!0})}}),r(U,{get when(){return[S.FetchingObj,S.FetchingObjs].includes(_.state)},get children(){return r(xe,{})}}),r(U,{get when(){return _.state===S.NeedPassword},get children(){return r(Yr,{})}}),r(U,{get when(){return[S.Folder,S.FetchingMore].includes(_.state)},get children(){return r(Zr,{})}}),r(U,{get when(){return _.state===S.File},get children(){return r(Jr,{})}})]}})}})}})},to=()=>{const e=De("white","$neutral3"),{proxyLink:t}=sn(),{pathname:n}=L(),o=j(it(()=>_.state,()=>{if(![S.FetchingMore,S.Folder,S.File].includes(_.state))return"";if(_.readme)return _.readme;if([S.FetchingMore,S.Folder].includes(_.state)){const s=_.objs.find(l=>l.name.toLowerCase()==="readme.md");if(s)return t(s,!0)}return""})),a=async s=>{let l={content:s};return/^https?:\/\//g.test(s)&&(l=await Er(s)),setTimeout(()=>{un(n())}),l},[i]=Rn(o,a);return r(M,{get when(){return o()},get children(){return r(Se,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return e()},shadow:"$lg",get children(){return r(Dn,{get loading(){return i.loading},get children(){return r(an,{get children(){var s;return(s=i())==null?void 0:s.content}})}})}})}})},dn=e=>{const t=se("home_container");return r(ct,{get fallback(){return r(Se,{w:"min(99%, 980px)",get children(){return e.children}})},get children(){return r(U,{when:t==="hope_container",get children(){return r(In,{get children(){return e.children}})}})}})},no=()=>r(dn,{get children(){return r(ie,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[r(Qr,{}),r(eo,{}),r(to,{})]}})}}),ro=ut("<span>|</span>"),oo=()=>{const e=O();return r(ie,{class:"footer",w:"$full",py:"$4",get children(){return r(q,{spacing:"$1",get children(){return[r(Bn,{href:"https://github.com/Xhofe/alist",external:!0,get children(){return e("home.footer.powered_by")}}),ro.cloneNode(!0),r(Br,{as:Gt,get href(){return Oe.is_guest(Me())?"/@login":"/@manage"},get children(){return e(Oe.is_guest(Me())?"login.login":"home.footer.manage")}})]}})}})},Ct={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},ue="^\\s*",de="\\s*$",Q="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",Z="([0-9A-Fa-f])",J="([0-9A-Fa-f]{2})",ao=new RegExp(`${ue}rgb\\s*\\(${Q},${Q},${Q}\\)${de}`),so=new RegExp(`${ue}rgba\\s*\\(${Q},${Q},${Q},${Q}\\)${de}`),io=new RegExp(`${ue}#${Z}${Z}${Z}${de}`),lo=new RegExp(`${ue}#${J}${J}${J}${de}`),co=new RegExp(`${ue}#${Z}${Z}${Z}${Z}${de}`),uo=new RegExp(`${ue}#${J}${J}${J}${J}${de}`);function A(e){return parseInt(e,16)}function hn(e){try{let t;if(t=lo.exec(e))return[A(t[1]),A(t[2]),A(t[3]),1];if(t=ao.exec(e))return[V(t[1]),V(t[5]),V(t[9]),1];if(t=so.exec(e))return[V(t[1]),V(t[5]),V(t[9]),We(t[13])];if(t=io.exec(e))return[A(t[1]+t[1]),A(t[2]+t[2]),A(t[3]+t[3]),1];if(t=uo.exec(e))return[A(t[1]),A(t[2]),A(t[3]),We(A(t[4])/255)];if(t=co.exec(e))return[A(t[1]+t[1]),A(t[2]+t[2]),A(t[3]+t[3]),We(A(t[4]+t[4])/255)];if(e in Ct)return hn(Ct[e]);throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(t){throw t}}function ho(e){return e>1?1:e<0?0:e}function _t(e,t,n,o){return`rgba(${V(e)}, ${V(t)}, ${V(n)}, ${ho(o)})`}function xt(e,t){const[n,o,a,i=1]=Array.isArray(e)?e:hn(e);return t.alpha?_t(n,o,a,t.alpha):_t(n,o,a,i)}function We(e){const t=Math.round(Number(e)*100)/100;return t>1?1:t<0?0:t}function V(e){const t=Math.round(Number(e));return t>255?255:t<0?0:t}const go={list:ln,grid:rn,image:on},fo=()=>{const e=O();return r(gt,{get children(){return[r(dt,{as:Vn,get color(){return pe()},get bgColor(){return xt(pe(),{alpha:.15})},get _hover(){return{bgColor:xt(pe(),{alpha:.2})}},"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return r(ct,{get children(){return[r(U,{get when(){return He()==="list"},get children(){return r(ln,{})}}),r(U,{get when(){return He()==="grid"},get children(){return r(rn,{})}}),r(U,{get when(){return He()==="image"},get children(){return r(on,{})}})]}})}}),r(ht,{get children(){return r(Re,{get each(){return Object.entries(go)},children:t=>r(ee,{get icon(){return r(Qt,{get component(){return t[1]}})},onSelect:()=>{Un(t[0])},get children(){return e(`home.layouts.${t[0]}`)}})})}})]}})},Ue=typeof window<"u"?window.navigator.userAgent:"",Ja=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Ue);/^((?!chrome|android).)*safari/i.test(Ue);/MicroMessenger/i.test(Ue);/MSIE|Trident/i.test(Ue);var Vt,Ut,zt;const po=(zt=(Ut=(Vt=window==null?void 0:window.navigator)==null?void 0:Vt.platform)!=null?Ut:"")==null?void 0:zt.includes("Mac"),mo=()=>{const e=se("logo").split(`
`),t=De(e[0],e.pop());return r(Zt,{class:"header",w:"$full",get children(){return r(dn,{get children(){return r(q,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[r(q,{class:"header-left",h:"44px",get children(){return r(zn,{get src(){return t()},h:"$full",w:"auto",get fallback(){return r(Hn,{})}})}}),r(q,{class:"header-right",spacing:"$2",get children(){return r(M,{get when(){return _.state===S.Folder},get children(){return[r(M,{get when(){return se("search_index")!=="none"},get children(){return r(q,{bg:"$neutral4",w:"$32",p:"$2",rounded:"$md",justifyContent:"space-between",border:"2px solid transparent",cursor:"pointer",_hover:{borderColor:"$info6"},onClick:()=>{w.emit("tool","search")},get children(){return[r(ft,{as:xr}),r(q,{get children(){return[j(()=>po?r(Ne,{children:"Cmd"}):r(Ne,{children:"Ctrl"})),r(Ne,{children:"K"})]}})]}})}}),r(fo,{})]}})}})]}})}})}})};function bo(e){return Ie({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 11l3 3 8-8"/><path d="M20 12v6a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h9"/>'},e)}function wo(e){return Ie({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><rect width="12" height="12" x="8" y="8" rx="2"/><path d="M16 8V6a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2h2"/>'},e)}function vo(e){return Ie({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM9 15h6"/><path d="M12.5 17.5L15 15l-2.5-2.5"/>'},e)}function yo(e){return Ie({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5 0 005 0l4-4a3.5 3.5 0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5 0 00-5 0l-4 4a3.5 3.5 0 005 5l.5-.5"/>'},e)}const me={rename:{icon:Vr,color:"$accent9"},copy:{icon:wo,color:"$success9"},move:{icon:vo,color:"$warning9"},delete:{icon:Nn,color:"$danger9"},copy_link:{icon:yo,color:"$info9"},mkdir:{icon:Ur,p:!0},new_file:{icon:zr,p:!0},cancel_select:{icon:Hr},download:{icon:qn,color:"$primary9"}},ke=e=>{const t=Wn.findIndex(o=>o===e.name);if(t!==-1&&!Oe.can(Me(),t))return null;const n=O();return r(Jt,{placement:"top",withArrow:!0,get label(){return n(`home.toolbar.${e.name}`)},get children(){return r(ft,Be({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:Kt()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$7",rounded:"$md",get p(){var o;return(o=me[e.name])!=null&&o.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){var o;return(o=me[e.name])==null?void 0:o.icon},get color(){var o;return(o=me[e.name])==null?void 0:o.color}},e))}})},I=e=>{const t=O();return r(Jt,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return t(`home.toolbar.${e.tips}`)},get children(){return r(ft,Be({get color(){return pe()},get _hover(){return{bgColor:pe(),color:"white"}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},$o=()=>{const e=O(),{copySelectedPreviewPage:t,copySelectedRawLink:n}=Ir(),o="neutral";return r(gt,{placement:"top",offset:10,get children(){return[r(dt,{as:ke,name:"copy_link"}),r(ht,{get children(){return[r(ee,{colorScheme:o,onSelect:()=>{t()},get children(){return e("home.toolbar.preview_page")}}),r(ee,{colorScheme:o,onSelect:()=>{n()},get children(){return e("home.toolbar.down_link")}}),r(ee,{colorScheme:o,onSelect:()=>{n(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})},So=ut("<p></p>"),Co=()=>{const e=O(),t="neutral",{batchDownloadSelected:n,sendToAria2:o}=Xr();return r(gt,{placement:"top",offset:10,get children(){return[r(dt,{as:ke,name:"download"}),r(ht,{get children(){return[r(ee,{colorScheme:t,onSelect:n,get children(){return e("home.toolbar.batch_download")}}),r(M,{get when(){return Oe.is_admin(Me())||Kn("package_download")},get children(){return r(ee,{colorScheme:t,onSelect:()=>{w.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}})}}),r(ee,{colorScheme:t,onSelect:o,get children(){return e("home.toolbar.send_aria2")}})]}})]}})},_o=ye(()=>$e(()=>import("./PackageDownload.cdabf6f7.js"),["assets/PackageDownload.cdabf6f7.js","assets/index.af08b204.js","assets/index.b42d16c5.css","assets/api.3026e8d1.js","assets/useUtil.a4711e9e.js"])),xo=()=>{const e=O(),t=l=>{l==="package_download"&&o()};w.on("tool",t),T(()=>{w.off("tool",t)});const{isOpen:n,onOpen:o,onClose:a}=R(),[i,s]=be("pre_tips");return r(Le,{blockScrollOnMount:!1,get opened(){return n()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[r(Te,{}),r(Fe,{get children(){return[r(Pe,{get children(){return e("home.toolbar.package_download")}}),r(lt,{get fallback(){return r(xe,{})},get children(){return r(M,{get when(){return i()==="pre_tips"},get fallback(){return r(_o,{onClose:a})},get children(){return[r(je,{get children(){const l=So.cloneNode(!0);return Yt(l,()=>e("home.toolbar.pre_package_download-tips")),l}}),r(st,{display:"flex",gap:"$2",get children(){return[r(ae,{onClick:a,colorScheme:"neutral",get children(){return e("global.cancel")}}),r(ae,{colorScheme:"info",onClick:()=>{s("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})};function gn(e,t){e.indexOf(t)===-1&&e.push(t)}function Oo(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const fn=(e,t,n)=>Math.min(Math.max(n,e),t),P={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},we=e=>typeof e=="number",re=e=>Array.isArray(e)&&!we(e[0]),Mo=(e,t,n)=>{const o=t-e;return((n-e)%o+o)%o+e};function ko(e,t){return re(e)?e[Mo(0,e.length,t)]:e}const pn=(e,t,n)=>-n*e+n*t+e,mn=()=>{},W=e=>e,pt=(e,t,n)=>t-e===0?1:(n-e)/(t-e);function bn(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const a=pt(0,t,o);e.push(pn(n,1,a))}}function Eo(e){const t=[0];return bn(t,e-1),t}function Ao(e,t=Eo(e.length),n=W){const o=e.length,a=o-t.length;return a>0&&bn(t,a),i=>{let s=0;for(;s<o-2&&!(i<t[s+1]);s++);let l=fn(0,1,pt(t[s],t[s+1],i));return l=ko(n,s)(l),pn(e[s],e[s+1],l)}}const wn=e=>Array.isArray(e)&&we(e[0]),et=e=>typeof e=="object"&&Boolean(e.createAnimation),ve=e=>typeof e=="function",To=e=>typeof e=="string",Ke={ms:e=>e*1e3,s:e=>e/1e3},vn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Fo=1e-7,Po=12;function jo(e,t,n,o,a){let i,s,l=0;do s=t+(n-t)/2,i=vn(s,o,a)-e,i>0?n=s:t=s;while(Math.abs(i)>Fo&&++l<Po);return s}function ge(e,t,n,o){if(e===t&&n===o)return W;const a=i=>jo(i,0,1,e,n);return i=>i===0||i===1?i:vn(a(i),t,o)}const Lo=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const o=n*e,a=t==="end"?Math.floor(o):Math.ceil(o);return fn(0,1,a/e)},Ot={ease:ge(.25,.1,.25,1),"ease-in":ge(.42,0,1,1),"ease-in-out":ge(.42,0,.58,1),"ease-out":ge(0,0,.58,1)},Ro=/\((.*?)\)/;function Mt(e){if(ve(e))return e;if(wn(e))return ge(...e);if(Ot[e])return Ot[e];if(e.startsWith("steps")){const t=Ro.exec(e);if(t){const n=t[1].split(",");return Lo(parseFloat(n[0]),n[1].trim())}}return W}class Do{constructor(t,n=[0,1],{easing:o,duration:a=P.duration,delay:i=P.delay,endDelay:s=P.endDelay,repeat:l=P.repeat,offset:h,direction:u="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=W,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((c,d)=>{this.resolve=c,this.reject=d}),o=o||P.easing,et(o)){const c=o.createAnimation(n);o=c.easing,n=c.keyframes||n,a=c.duration||a}this.repeat=l,this.easing=re(o)?W:Mt(o),this.updateDuration(a);const g=Ao(n,h,re(o)?o.map(Mt):W);this.tick=c=>{var d;i=i;let f=0;this.pauseTime!==void 0?f=this.pauseTime:f=(c-this.startTime)*this.rate,this.t=f,f/=1e3,f=Math.max(f-i,0),this.playState==="finished"&&this.pauseTime===void 0&&(f=this.totalDuration);const m=f/this.duration;let p=Math.floor(m),v=m%1;!v&&m>=1&&(v=1),v===1&&p--;const $=p%2;(u==="reverse"||u==="alternate"&&$||u==="alternate-reverse"&&!$)&&(v=1-v);const k=f>=this.totalDuration?1:Math.min(v,1),D=g(this.easing(k));t(D),this.pauseTime===void 0&&(this.playState==="finished"||f>=this.totalDuration+s)?(this.playState="finished",(d=this.resolve)===null||d===void 0||d.call(this,D)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class Io{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const Ge=new WeakMap;function yn(e){return Ge.has(e)||Ge.set(e,{transforms:[],values:new Map}),Ge.get(e)}function Bo(e,t){return e.has(t)||e.set(t,new Io),e.get(t)}const Vo=["","X","Y","Z"],Uo=["translate","scale","rotate","skew"],le={x:"translateX",y:"translateY",z:"translateZ"},kt={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},zo={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:kt,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:W},skew:kt},ce=new Map,ze=e=>`--motion-${e}`,Ee=["x","y","z"];Uo.forEach(e=>{Vo.forEach(t=>{Ee.push(e+t),ce.set(ze(e+t),zo[e])})});const Ho=(e,t)=>Ee.indexOf(e)-Ee.indexOf(t),No=new Set(Ee),mt=e=>No.has(e),qo=(e,t)=>{le[t]&&(t=le[t]);const{transforms:n}=yn(e);gn(n,t),e.style.transform=$n(n)},$n=e=>e.sort(Ho).reduce(Wo,"").trim(),Wo=(e,t)=>`${e} ${t}(var(${ze(t)}))`,tt=e=>e.startsWith("--"),Et=new Set;function Ko(e){if(!Et.has(e)){Et.add(e);try{const{syntax:t,initialValue:n}=ce.has(e)?ce.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:n})}catch(t){}}}const Xe=(e,t)=>document.createElement("div").animate(e,t),At={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Xe({opacity:[1]})}catch(e){return!1}return!0},finished:()=>Boolean(Xe({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{Xe({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}},Qe={},ne={};for(const e in At)ne[e]=()=>(Qe[e]===void 0&&(Qe[e]=At[e]()),Qe[e]);const Go=.015,Xo=(e,t)=>{let n="";const o=Math.round(t/Go);for(let a=0;a<o;a++)n+=e(pt(0,o-1,a))+", ";return n.substring(0,n.length-2)},Tt=(e,t)=>ve(e)?ne.linearEasing()?`linear(${Xo(e,t)})`:P.easing:wn(e)?Qo(e):e,Qo=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`;function Zo(e,t){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n?e[n-1]:t());return e}const Jo=e=>Array.isArray(e)?e:[e];function nt(e){return le[e]&&(e=le[e]),mt(e)?ze(e):e}const fe={get:(e,t)=>{t=nt(t);let n=tt(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&n!==0){const o=ce.get(t);o&&(n=o.initialValue)}return n},set:(e,t,n)=>{t=nt(t),tt(t)?e.style.setProperty(t,n):e.style[t]=n}};function Yo(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch(n){}}function ea(e,t){var n;let o=(t==null?void 0:t.toDefaultUnit)||W;const a=e[e.length-1];if(To(a)){const i=((n=a.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";i&&(o=s=>s+i)}return o}function ta(){return window.__MOTION_DEV_TOOLS_RECORD}function na(e,t,n,o={},a){const i=ta(),s=o.record!==!1&&i;let l,{duration:h=P.duration,delay:u=P.delay,endDelay:g=P.endDelay,repeat:c=P.repeat,easing:d=P.easing,persist:f=!1,direction:m,offset:p,allowWebkitAcceleration:v=!1}=o;const $=yn(e),k=mt(t);let D=ne.waapi();k&&qo(e,t);const E=nt(t),G=Bo($.values,E),F=ce.get(E);return Yo(G.animation,!(et(d)&&G.generator)&&o.record!==!1),()=>{const y=()=>{var C,he;return(he=(C=fe.get(e,E))!==null&&C!==void 0?C:F==null?void 0:F.initialValue)!==null&&he!==void 0?he:0};let b=Zo(Jo(n),y);const N=ea(b,F);if(et(d)){const C=d.createAnimation(b,t!=="opacity",y,E,G);d=C.easing,b=C.keyframes||b,h=C.duration||h}if(tt(E)&&(ne.cssRegisterProperty()?Ko(E):D=!1),k&&!ne.linearEasing()&&(ve(d)||re(d)&&d.some(ve))&&(D=!1),D){F&&(b=b.map(X=>we(X)?F.toDefaultUnit(X):X)),b.length===1&&(!ne.partialKeyframes()||s)&&b.unshift(y());const C={delay:Ke.ms(u),duration:Ke.ms(h),endDelay:Ke.ms(g),easing:re(d)?void 0:Tt(d,h),direction:m,iterations:c+1,fill:"both"};l=e.animate({[E]:b,offset:p,easing:re(d)?d.map(X=>Tt(X,h)):void 0},C),l.finished||(l.finished=new Promise((X,xn)=>{l.onfinish=X,l.oncancel=xn}));const he=b[b.length-1];l.finished.then(()=>{f||(fe.set(e,E,he),l.cancel())}).catch(mn),v||(l.playbackRate=1.000001)}else if(a&&k)b=b.map(C=>typeof C=="string"?parseFloat(C):C),b.length===1&&b.unshift(parseFloat(y())),l=new a(C=>{fe.set(e,E,N?N(C):C)},b,Object.assign(Object.assign({},o),{duration:h,easing:d}));else{const C=b[b.length-1];fe.set(e,E,F&&we(C)?F.toDefaultUnit(C):C)}return s&&i(e,t,b,{duration:h,delay:u,easing:d,repeat:c,offset:p},"motion-one"),G.setAnimation(l),l}}const ra=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function oa(e,t){var n;return typeof e=="string"?t?((n=t[e])!==null&&n!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}function Sn(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}const aa={any:0,all:1};function sa(e,t,{root:n,margin:o,amount:a="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const i=oa(e),s=new WeakMap,l=u=>{u.forEach(g=>{const c=s.get(g.target);if(g.isIntersecting!==Boolean(c))if(g.isIntersecting){const d=t(g);ve(d)?s.set(g.target,d):h.unobserve(g.target)}else c&&(c(g),s.delete(g.target))})},h=new IntersectionObserver(l,{root:n,rootMargin:o,threshold:typeof a=="number"?a:aa[a]});return i.forEach(u=>h.observe(u)),()=>h.disconnect()}function ia(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!la(e,t):e!==t}function la(e,t){const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function ca(e){return typeof e=="object"}function Ft(e,t){if(ca(e))return e;if(e&&t)return t[e]}let K;function ua(){if(!K)return;const e=K.sort(ha).map(ga);e.forEach(Pt),e.forEach(Pt),K=void 0}function Ze(e){K?gn(K,e):(K=[e],requestAnimationFrame(ua))}function da(e){K&&Oo(K,e)}const ha=(e,t)=>e.getDepth()-t.getDepth(),ga=e=>e.animateUpdates(),Pt=e=>e.next(),jt=(e,t)=>new CustomEvent(e,{detail:{target:t}});function rt(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:n}}))}function Lt(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:n}}))}const fa={isActive:e=>Boolean(e.inView),subscribe:(e,{enable:t,disable:n},{inViewOptions:o={}})=>{const{once:a}=o,i=Sn(o,["once"]);return sa(e,s=>{if(t(),Lt(e,"viewenter",s),!a)return l=>{n(),Lt(e,"viewleave",l)}},i)}},Rt=(e,t,n)=>o=>{o.pointerType&&o.pointerType!=="mouse"||(n(),rt(e,t,o))},pa={isActive:e=>Boolean(e.hover),subscribe:(e,{enable:t,disable:n})=>{const o=Rt(e,"hoverstart",t),a=Rt(e,"hoverend",n);return e.addEventListener("pointerenter",o),e.addEventListener("pointerleave",a),()=>{e.removeEventListener("pointerenter",o),e.removeEventListener("pointerleave",a)}}},ma={isActive:e=>Boolean(e.press),subscribe:(e,{enable:t,disable:n})=>{const o=i=>{n(),rt(e,"pressend",i),window.removeEventListener("pointerup",o)},a=i=>{t(),rt(e,"pressstart",i),window.addEventListener("pointerup",o)};return e.addEventListener("pointerdown",a),()=>{e.removeEventListener("pointerdown",a),window.removeEventListener("pointerup",o)}}},_e={inView:fa,hover:pa,press:ma},Dt=["initial","animate",...Object.keys(_e),"exit"],ot=new WeakMap;function ba(e={},t){let n,o=t?t.getDepth()+1:0;const a={initial:!0,animate:!0},i={},s={};for(const p of Dt)s[p]=typeof e[p]=="string"?e[p]:t==null?void 0:t.getContext()[p];const l=e.initial===!1?"animate":"initial";let h=Ft(e[l]||s[l],e.variants)||{},u=Sn(h,["transition"]);const g=Object.assign({},u);function*c(){var p,v;const $=u;u={};const k={};for(const y of Dt){if(!a[y])continue;const b=Ft(e[y]);if(!!b)for(const N in b)N!=="transition"&&(u[N]=b[N],k[N]=ra((v=(p=b.transition)!==null&&p!==void 0?p:e.transition)!==null&&v!==void 0?v:{},N))}const D=new Set([...Object.keys(u),...Object.keys($)]),E=[];D.forEach(y=>{var b;u[y]===void 0&&(u[y]=g[y]),ia($[y],u[y])&&((b=g[y])!==null&&b!==void 0||(g[y]=fe.get(n,y)),E.push(na(n,y,u[y],k[y],Do)))}),yield;const G=E.map(y=>y()).filter(Boolean);if(!G.length)return;const F=u;n.dispatchEvent(jt("motionstart",F)),Promise.all(G.map(y=>y.finished)).then(()=>{n.dispatchEvent(jt("motioncomplete",F))}).catch(mn)}const d=(p,v)=>()=>{a[p]=v,Ze(m)},f=()=>{for(const p in _e){const v=_e[p].isActive(e),$=i[p];v&&!$?i[p]=_e[p].subscribe(n,{enable:d(p,!0),disable:d(p,!1)},e):!v&&$&&($(),delete i[p])}},m={update:p=>{!n||(e=p,f(),Ze(m))},setActive:(p,v)=>{!n||(a[p]=v,Ze(m))},animateUpdates:c,getDepth:()=>o,getTarget:()=>u,getOptions:()=>e,getContext:()=>s,mount:p=>(n=p,ot.set(n,m),f(),()=>{ot.delete(n),da(m);for(const v in i)i[v]()}),isMounted:()=>Boolean(n)};return m}function wa(e){const t={},n=[];for(let o in e){const a=e[o];mt(o)&&(le[o]&&(o=le[o]),n.push(o),o=ze(o));let i=Array.isArray(a)?a[0]:a;const s=ce.get(o);s&&(i=we(a)?s.toDefaultUnit(a):a),t[o]=i}return n.length&&(t.transform=$n(n)),t}const va={initial:()=>!0,addCleanup:T,addMount:tn},at=en(),Cn=en(va);function ya(e,t,n,o){const{addCleanup:a,addMount:i,initial:s}=n,l=ba(s()?t():{...t(),initial:!1},o);return i(Gn.bind(void 0,Xn(),()=>{a(l.mount(e())),Xt(()=>l.update(t()))})),l}var $a=/([^:; ]*):\s*([^;]*)/g;function It(e){const t={};let n;for(;n=$a.exec(e);)t[n[1]]=n[2];return t}function Sa(e,t){if(typeof e=="object"&&typeof t=="object")return{...e,...t};if(typeof e=="string"&&typeof t=="string")return`${e};${t}`;const n=typeof e=="object"?e:It(e),o=typeof t=="object"?t:It(t);return{...n,...o}}const Bt=e=>{const[t,,n]=Qn(e,["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],["tag","ref","style","onMotionStart","onMotionComplete","onHoverStart","onHoverEnd","onPressStart","onPressEnd","onViewEnter","onViewLeave"]),o=ya(()=>i,()=>({...t}),wt(Cn),wt(at)),a=wa(o.getTarget());let i;return r(at.Provider,{value:o,get children(){return r(Qt,Be({ref:s=>{var l;i=s,(l=e.ref)==null||l.call(e,s)},get component(){return nn(()=>e.tag||"div")},get style(){return j(()=>!!e.style)()?Sa(e.style,a):a},get["on:motionstart"](){return e.onMotionStart},get["on:motioncomplete"](){return e.onMotionComplete},get["on:hoverstart"](){return e.onHoverStart},get["on:hoverend"](){return e.onHoverEnd},get["on:pressstart"](){return e.onPressStart},get["on:pressend"](){return e.onPressEnd},get["on:viewenter"](){return e.onViewEnter},get["on:viewleave"](){return e.onViewLeave}},n))}})},_n=new Proxy(Bt,{get:(e,t)=>n=>(delete n.tag,r(Bt,Be(n,{tag:t})))}),Ca=e=>(e=Array.isArray(e)?e[0]:e,e instanceof Element?e:void 0),_a=(e,t)=>{const n={once:!0};e.addEventListener("motioncomplete",t,n),T(e.removeEventListener.bind(e,"motioncomplete",t,n))},xa=e=>{let{initial:t=!0}=e;tn(()=>t=!0);let n=!1,o=[],a=[],i=[];return T(()=>{i.concat(a).forEach(s=>s()),a=i=o=[]}),r(Cn.Provider,{value:{addCleanup:s=>a.push(s),addMount:s=>o.push(s),initial:()=>t},get children(){return r(at.Provider,{value:void 0,get children(){return nn(()=>{const s=Jn(()=>e.children),l=j(()=>Ca(s())),[h,u]=be(),[g,c]=be();return Yn(it(l,m=>{i.push(...a),a=[],er(()=>{e.exitBeforeEnter?f(()=>!n&&d(m)):(f(),d(m))})})),[h,g];function d(m){u(m),o.forEach(p=>p()),o=[]}function f(m){var k;const p=()=>{c(),i.forEach(D=>D()),i=[],m==null||m()},v=c((k=h())!=null?k:g());if(!v)return p();const $=ot.get(v);if(!$||!$.getOptions().exit)return p();$.setActive("exit",n=!0),_a(v,()=>{n=!1,p()})}})}})}})},Oa=()=>{const e=j(()=>[S.Folder,S.FetchingMore].includes(_.state)&&tr()&&nr());return r(xa,{exitBeforeEnter:!0,get children(){return r(M,{get when(){return e()},get children(){return r(Se,{class:"center-toolbar",pos:"fixed",bottom:"$4",right:"50%",w:"max-content",color:"$neutral11",get as(){return _n.div},initial:{opacity:0,scale:.9,x:"50% ",y:10},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},get children(){return r(q,{p:"$2",get bgColor(){return De("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(8px)"},get children(){return[r(Re,{each:["rename","move","copy","delete"],children:t=>r(ke,{name:t,onClick:()=>{w.emit("tool",t)}})}),r($o,{}),r(Co,{}),r(ke,{name:"cancel_select",onClick:()=>{rr(!1)}})]}})}})}})}})},Ma=()=>{const{isOpen:e,onToggle:t}=R({defaultIsOpen:localStorage.getItem("more-open")==="true",onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),n=j(()=>e()?"$4":"$5"),o=j(()=>_.state===S.Folder),{refresh:a}=H();return r(Se,{class:"left-toolbar-box",pos:"fixed",get right(){return n()},get bottom(){return n()},get children(){return r(M,{get when(){return e()},get fallback(){return r(I,{class:"toolbar-toggle",as:yt,onClick:()=>{t()}})},get children(){return r(ie,{class:"left-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return _n.div},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{duration:.2},get children(){return[r(ie,{spacing:"$1",class:"left-toolbar-in",get children(){return[r(M,{get when(){return j(()=>!!o())()&&(vt("write")||_.write)},get children(){return[r(I,{as:Nr,tips:"refresh",onClick:()=>{a(void 0,!0)}}),r(I,{get as(){return me.new_file.icon},tips:"new_file",onClick:()=>{w.emit("tool","new_file")}}),r(I,{get as(){return me.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{w.emit("tool","mkdir")}}),r(I,{as:or,tips:"upload",onClick:()=>{w.emit("tool","upload")}})]}}),r(M,{get when(){return j(()=>!!o())()&&vt("offline_download")},get children(){return r(I,{as:ar,pl:"0",tips:"offline_download",onClick:()=>{w.emit("tool","offline_download")}})}}),r(I,{tips:"toggle_checkbox",as:bo,onClick:sr}),r(I,{as:ir,tips:"local_settings",onClick:()=>{w.emit("tool","local_settings")}})]}}),r(I,{tips:"more",as:yt,onClick:t})]}})}})}})},ka=()=>{const{isOpen:e,onOpen:t,onClose:n}=R(),[o,a]=z(Ar),{pathname:i}=L(),{refresh:s}=H(),l=h=>{h==="copy"&&t()};return w.on("tool",l),T(()=>{w.off("tool",l)}),r(cn,{get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async h=>{const u=await a(i(),h,oe().map(g=>g.name));te(u,()=>{s(),n()})}})},Ea=()=>{const{isOpen:e,onOpen:t,onClose:n}=R(),[o,a]=z(Tr),{pathname:i}=L(),{refresh:s}=H(),l=h=>{h==="move"&&t()};return w.on("tool",l),T(()=>{w.off("tool",l)}),r(cn,{get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async h=>{const u=await a(i(),h,oe().map(g=>g.name));te(u,()=>{s(),n()})}})},Aa=ut("<p></p>"),Ta=()=>{const e=O(),{isOpen:t,onOpen:n,onClose:o}=R(),[a,i]=z(Fr),{refresh:s}=H(),{pathname:l}=L(),h=u=>{u==="delete"&&n()};return w.on("tool",h),T(()=>{w.off("tool",h)}),r(Le,{blockScrollOnMount:!1,get opened(){return t()},onClose:o,size:{"@initial":"xs","@md":"md"},get children(){return[r(Te,{}),r(Fe,{get children(){return[r(Pe,{get children(){return e("home.toolbar.delete")}}),r(je,{get children(){const u=Aa.cloneNode(!0);return Yt(u,()=>e("home.toolbar.delete-tips")),u}}),r(st,{display:"flex",gap:"$2",get children(){return[r(ae,{onClick:o,colorScheme:"neutral",get children(){return e("global.cancel")}}),r(ae,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const u=await i(l(),oe().map(g=>g.name));te(u,()=>{s(),o()})},get children(){return e("global.confirm")}})]}})]}})]}})},Fa=()=>{const{isOpen:e,onOpen:t,onClose:n}=R(),o=O(),[a,i]=z(Pr),{pathname:s}=L(),{refresh:l}=H(),h=u=>{if(u==="rename"){if(!lr()){Y.warning(o("home.toolbar.only_one-tips"));return}t()}};return w.on("tool",h),T(()=>{w.off("tool",h)}),r(M,{get when(){return e()},get children(){return r(Ve,{title:"home.toolbar.input_new_name",get opened(){return e()},onClose:n,get defaultValue(){var u,g;return(g=(u=oe()[0])==null?void 0:u.name)!=null?g:""},get loading(){return a()},onSubmit:async u=>{const g=await i(Ae(s(),oe()[0].name),u);te(g,()=>{l(),n()})}})}})},Pa=()=>{const{isOpen:e,onOpen:t,onClose:n}=R(),[o,a]=z(jr),{refresh:i}=H(),{pathname:s}=L(),l=h=>{h==="new_file"&&t()};return w.on("tool",l),T(()=>{w.off("tool",l)}),r(Ve,{title:"home.toolbar.input_filename",get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async h=>{const u=await a(Ae(s(),h),Je());te(u,()=>{i(),n()})}})},ja=()=>{const{isOpen:e,onOpen:t,onClose:n}=R(),[o,a]=z(Lr),{pathname:i}=L(),{refresh:s}=H(),l=h=>{h==="mkdir"&&t()};return w.on("tool",l),T(()=>{w.off("tool",l)}),r(Ve,{title:"home.toolbar.input_dir_name",get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async h=>{const u=await a(Ae(i(),h));te(u,()=>{s(),n()})}})},La=()=>{const e=O(),[t,n]=be("aria2"),{isOpen:o,onOpen:a,onClose:i}=R(),[s,l]=z(Rr),{pathname:h}=L(),u=g=>{g==="offline_download"&&a()};return w.on("tool",u),T(()=>{w.off("tool",u)}),r(Ve,{title:"home.toolbar.offline_download",type:"text",get opened(){return o()},onClose:i,get loading(){return s()},get tips(){return e("home.toolbar.offline_download-tips")},get topSlot(){return r(Se,{mb:"$2",get children(){return r(cr,{get value(){return t()},onChange:g=>n(g),options:[{value:"aria2",label:"Aria2"},{value:"qbit",label:"qBittorrent"}]})}})},onSubmit:async g=>{const c=await l(h(),g.split(`
`),t());te(c,()=>{i()})}})},Ra=e=>{const t=O(),n=s=>{s===e.name&&a()};w.on("tool",n),T(()=>{w.off("tool",n)});const{isOpen:o,onOpen:a,onClose:i}=R();return r(Le,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return o()},onClose:i,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[r(Te,{}),r(Fe,{get children(){return[r(ur,{}),r(Pe,{get children(){return t(e.title)}}),r(je,{get children(){return r(M,{get when(){return o()},get children(){return r(lt,{get fallback(){return r(xe,{})},get children(){return e.children}})}})}})]}})]}})},Da=e=>{const t=O();return r(Sr,{get children(){return[r(yr,{get children(){return t(`home.local_settings.${e.name}`)}}),r(Wt,{get value(){return qt[e.name]},onInput:n=>{$r(e.name,n.currentTarget.value)}})]}})},Ia=()=>{const{isOpen:e,onOpen:t,onClose:n}=R(),o=O(),a=i=>{i==="local_settings"&&t()};return w.on("tool",a),T(()=>{w.off("tool",a)}),r(vr,{get opened(){return e()},placement:"right",onClose:n,get children(){return[r(dr,{}),r(hr,{get children(){return[r(gr,{}),r(fr,{color:"$info9",get children(){return o("home.toolbar.local_settings")}}),r(pr,{get children(){return[r(ie,{spacing:"$2",get children(){return r(Re,{get each(){return Object.keys(mr)},children:i=>r(Da,{name:i})})}}),r(Zt,{mt:"$4",get children(){return r(q,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[r(br,{}),r(wr,{})]}})}})]}})]}})]}})},Ba=ye(()=>$e(()=>import("./Upload.6fa3d938.js"),["assets/Upload.6fa3d938.js","assets/index.af08b204.js","assets/index.b42d16c5.css","assets/index.f0bbae2c.js"])),Va=()=>[r(ka,{}),r(Ea,{}),r(Fa,{}),r(Ta,{}),r(Pa,{}),r(ja,{}),r(La,{}),r(xo,{}),r(Ra,{name:"upload",title:"home.toolbar.upload",get children(){return r(Ba,{})}}),r(Ia,{})],Ua=()=>r(Cr,{get children(){return[r(Ma,{}),r(Oa,{}),r(Va,{})]}}),za=()=>{Or(se("site_title"));const e=se("announcement");return e&&Y.render(()=>r(an,{children:e})),[r(mo,{}),r(Ua,{}),r(no,{}),r(oo,{})]},Ya=Object.freeze(Object.defineProperty({__proto__:null,default:za},Symbol.toStringTag,{value:"Module"}));export{Ya as L,_n as M,H as a,Kr as b,Ja as c,Za as g,po as i,me as o,Xr as u};
