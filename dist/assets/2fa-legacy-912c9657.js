System.register(["./index-legacy-525baae1.js"],(function(e,r){"use strict";var t,n,a,s,u,c,i,o,g,d,l,f,h,y,p,b,v,x;return{setters:[e=>{t=e.u,n=e.a,a=e.b6,s=e.d,u=e.e,c=e.f,i=e.m,o=e.W,g=e.bf,d=e.ae,l=e.I,f=e.B,h=e.Z,y=e.a3,p=e.n,b=e.bd,v=e.aN,x=e.c5}],execute:function(){e("default",(()=>{const{back:e}=t(),[r,w]=n((()=>a.post("/auth/2fa/generate"))),m=s(),[$,_]=u(),[k,I]=u("");(async()=>{if(y().otp)return p.warning(m("users.2fa_already_enabled")),void e();const r=await w();b(r,_)})();const[q,S]=n((()=>a.post("/auth/2fa/verify",{code:k(),secret:$()?.secret}))),W=async()=>{const r=await S();v(r,(()=>{x({...y(),otp:!0}),e()}))};return c(h,{get loading(){return r()},get children(){return c(i,{get when(){return $()},get children(){return c(o,{spacing:"$2",alignItems:"start",get children(){return[c(g,{get children(){return m("users.scan_qr")}}),c(d,{boxSize:"$xs",rounded:"$lg",get src(){return $()?.qr}}),c(l,{maxW:"$xs",get placeholder(){return m("users.input_code")},get value(){return k()},onInput:e=>I(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&W()}}),c(f,{get loading(){return q()},onClick:W,get children(){return m("users.verify")}})]}})}})}})}))}}}));
